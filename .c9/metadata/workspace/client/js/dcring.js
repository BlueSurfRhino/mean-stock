{"changed":true,"filter":false,"title":"dcring.js","tooltip":"/client/js/dcring.js","value":"// Events\nwindow.onload = function () { dcjsdemo(); }; //Render chart first thing\n\n// Globals\nvar dcReset;  //Connect to \"Reset\" button with onclick=\"dcReset()\" call\n\nfunction foobar()\n{\n    d3.select('#foobartext').append(\"p\").text(\"FOO!!!\");\n}\n\nfunction dcjsdemo() {\n\n    // Debug output routine from Data Visualization with D3.js Cookbook \n    function printFilter(filter) {\n        var f = eval(filter);\n        if (typeof (f.length) != \"undefined\") { } else { }\n        if (typeof (f.top) != \"undefined\") { f = f.top(Infinity); } else { }\n        if (typeof (f.dimension) != \"undefined\") { f = f.dimension(function (d) { return \"\"; }).top(Infinity); } else { }\n        console.log(filter + \"(\" + f.length + \") = \" + JSON.stringify(f).replace(\"[\", \"[\\n\\t\").replace(/}\\,/g, \"},\\n\\t\").replace(\"]\", \"\\n]\"));\n    }\n\n    // Make things pretty\n    var format = d3.format(\",\");\n    var timeFormat = d3.time.format.iso;\n\n    // load csv file that contains the data\n    // pathing asssume things are run from public\n    // for where files are located\n\n        // pretty colors, no thoughtful assignment\n        var chartcolors = d3.scale.category20b();\n\n\nvar w = 400;\nvar h = 400;\nvar r = h/2;\n\n\nvar color = d3.scale.category20c();\n\nvar data = [{\"label\":\"News\", \"value\":30}, \n\t\t          {\"label\":\"Chart\", \"value\":30}, \n\t\t          {\"label\":\"Events\", \"value\":30}];\n\nvar bigbuy =  [{\"label\":\"BUY!\", \"value\":1}];\n\n\nvar vis = d3.select('#navring').append(\"svg:svg\").data([data]).attr(\"width\", w).attr(\"height\", h).append(\"svg:g\").attr(\"transform\", \"translate(\" + r + \",\" + r + \")\");\nvar pie = d3.layout.pie().value(function(d){return d.value;});\n\n// declare an arc generator function\nvar arc = d3.svg.arc().outerRadius(r);\n\n\n// select paths, use arc generator to draw\nvar arcs = vis.selectAll(\"g.slice\").data(pie).enter().append(\"svg:g\").attr(\"class\", \"slice\");\narcs.append(\"svg:path\")\n    .attr(\"fill\", function(d, i){\n        return color(i);\n    })\n/*    .attr(\"d\", function (d) {\n        // log the result of the arc generator to show how cool it is :)\n        console.log(arc(d));\n        return arc(d);*/\n        .attr(\"d\", function(d, i, j) {\n    return arc.innerRadius(100+r*j).outerRadius(r*(j+1))(d);\n    });\n\n// add the text\narcs.append(\"svg:text\").attr(\"transform\", function(d){\n\t\t\td.innerRadius = 0;\n\t\t\td.outerRadius = r;\n    return \"translate(\" + arc.centroid(d) + \")\";}).attr(\"text-anchor\", \"middle\").text( function(d, i) {\n    return data[i].label;}\n\t\t);  \n\n\nvar circle = vis.append(\"circle\")\n                   .attr(\"cx\", 0)\n                   .attr(\"cy\", 0)\n                   .attr(\"r\", 99)\n                   .style(\"fill\", \"steelblue\");\n\n\n}\n\n","undoManager":{"mark":99,"position":100,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":83,"column":31},"end":{"row":83,"column":32}},"text":"1"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":82,"column":31},"end":{"row":82,"column":32}},"text":"1"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":82,"column":31},"end":{"row":82,"column":32}},"text":"5"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":82,"column":33},"end":{"row":82,"column":34}},"text":"0"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":83,"column":32},"end":{"row":83,"column":33}},"text":"0"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":83,"column":31},"end":{"row":83,"column":32}},"text":"1"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":83,"column":31},"end":{"row":83,"column":32}},"text":"5"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":82,"column":31},"end":{"row":82,"column":32}},"text":"5"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":82,"column":31},"end":{"row":82,"column":32}},"text":"3"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":83,"column":31},"end":{"row":83,"column":32}},"text":"5"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":83,"column":31},"end":{"row":83,"column":32}},"text":"3"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":82,"column":31},"end":{"row":82,"column":32}},"text":"3"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":83,"column":31},"end":{"row":83,"column":32}},"text":"3"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":84,"column":30},"end":{"row":84,"column":31}},"text":"5"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":84,"column":30},"end":{"row":84,"column":31}},"text":"1"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":84,"column":31},"end":{"row":84,"column":32}},"text":"0"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":84,"column":32},"end":{"row":84,"column":33}},"text":"0"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":84,"column":31},"end":{"row":84,"column":32}},"text":"0"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":84,"column":30},"end":{"row":84,"column":31}},"text":"1"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":84,"column":30},"end":{"row":84,"column":31}},"text":"9"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":84,"column":31},"end":{"row":84,"column":32}},"text":"9"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":84,"column":33},"end":{"row":85,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":85,"column":0},"end":{"row":85,"column":19}},"text":"                   "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":85,"column":19},"end":{"row":85,"column":20}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":85,"column":20},"end":{"row":85,"column":21}},"text":"f"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":85,"column":21},"end":{"row":85,"column":22}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":85,"column":22},"end":{"row":85,"column":23}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":85,"column":23},"end":{"row":85,"column":24}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":85,"column":24},"end":{"row":85,"column":26}},"text":"()"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":85,"column":25},"end":{"row":85,"column":26}},"text":")"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":85,"column":24},"end":{"row":85,"column":25}},"text":"("}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":85,"column":23},"end":{"row":85,"column":24}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":85,"column":22},"end":{"row":85,"column":23}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":85,"column":21},"end":{"row":85,"column":22}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":85,"column":20},"end":{"row":85,"column":21}},"text":"f"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":85,"column":20},"end":{"row":85,"column":47}},"text":"style(\"fill\", \"steelblue\");"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":85,"column":47},"end":{"row":86,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":86,"column":0},"end":{"row":86,"column":19}},"text":"                   "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":19},"end":{"row":86,"column":20}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":20},"end":{"row":86,"column":21}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":21},"end":{"row":86,"column":22}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":22},"end":{"row":86,"column":23}},"text":"x"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":23},"end":{"row":86,"column":24}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":24},"end":{"row":86,"column":26}},"text":"()"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":25},"end":{"row":86,"column":27}},"text":"\"\""}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":26},"end":{"row":86,"column":27}},"text":"B"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":27},"end":{"row":86,"column":28}},"text":"U"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":28},"end":{"row":86,"column":29}},"text":"Y"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":29},"end":{"row":86,"column":30}},"text":"!"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":85,"column":46},"end":{"row":85,"column":47}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":32},"end":{"row":86,"column":33}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":86,"column":0},"end":{"row":86,"column":33}},"text":"                   .text(\"BUY!\");"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":85,"column":46},"end":{"row":86,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":85,"column":46},"end":{"row":85,"column":47}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":85,"column":46},"end":{"row":85,"column":47}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":85,"column":46},"end":{"row":85,"column":47}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":0},"end":{"row":86,"column":1}},"text":"v"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":1},"end":{"row":86,"column":2}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":86,"column":1},"end":{"row":86,"column":2}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":1},"end":{"row":86,"column":2}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":2},"end":{"row":86,"column":3}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":3},"end":{"row":86,"column":4}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":4},"end":{"row":86,"column":5}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":86,"column":4},"end":{"row":86,"column":5}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":4},"end":{"row":86,"column":5}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":5},"end":{"row":86,"column":6}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":6},"end":{"row":86,"column":7}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":7},"end":{"row":86,"column":8}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":8},"end":{"row":86,"column":9}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":9},"end":{"row":86,"column":10}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":10},"end":{"row":86,"column":11}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":86,"column":10},"end":{"row":86,"column":11}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":86,"column":9},"end":{"row":86,"column":10}},"text":"u"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":9},"end":{"row":86,"column":10}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":10},"end":{"row":86,"column":11}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":11},"end":{"row":86,"column":12}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":86,"column":11},"end":{"row":86,"column":12}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":86,"column":10},"end":{"row":86,"column":11}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":10},"end":{"row":86,"column":11}},"text":"T"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":11},"end":{"row":86,"column":12}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":12},"end":{"row":86,"column":13}},"text":"x"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":13},"end":{"row":86,"column":14}},"text":"t"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":14},"end":{"row":86,"column":15}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":15},"end":{"row":86,"column":16}},"text":"="}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":16},"end":{"row":86,"column":17}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":17},"end":{"row":86,"column":18}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":18},"end":{"row":86,"column":19}},"text":"i"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":86,"column":17},"end":{"row":86,"column":19}},"text":"ci"},{"action":"insertText","range":{"start":{"row":86,"column":17},"end":{"row":86,"column":23}},"text":"circle"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":23},"end":{"row":86,"column":24}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":24},"end":{"row":86,"column":25}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":25},"end":{"row":86,"column":26}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":26},"end":{"row":86,"column":27}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":27},"end":{"row":86,"column":28}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":28},"end":{"row":86,"column":29}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":29},"end":{"row":86,"column":30}},"text":"d"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":30},"end":{"row":86,"column":32}},"text":"()"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":31},"end":{"row":86,"column":33}},"text":"\"\""}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":32},"end":{"row":86,"column":33}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":35},"end":{"row":86,"column":36}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":86,"column":36},"end":{"row":86,"column":51}},"text":"text(\"FOO!!!\");"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":86,"column":0},"end":{"row":86,"column":51}},"text":"var circleText = circle.append(\"p\").text(\"FOO!!!\");"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":79,"column":53},"end":{"row":79,"column":55}},"text":"*/"},{"action":"insertText","range":{"start":{"row":76,"column":0},"end":{"row":76,"column":2}},"text":"/*"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":79,"column":0},"end":{"row":79,"column":55}},"text":"                                  .attr(\"height\", h);*/"},{"action":"removeLines","range":{"start":{"row":76,"column":0},"end":{"row":79,"column":0}},"nl":"\n","lines":["/*","var svgBox = d3.select('#navring').append(\"svg\")","                                  .attr(\"width\", w)"]}]}]]},"ace":{"folds":[],"scrolltop":857.5,"scrollleft":0,"selection":{"start":{"row":78,"column":2},"end":{"row":83,"column":0},"isBackwards":true},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":63,"state":"comment","mode":"ace/mode/javascript"}},"timestamp":1415831599219}